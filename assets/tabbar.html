<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<style>
* { margin:0; padding:0; box-sizing:border-box; }
html,body { height:40px; overflow:hidden; background:#0f172a; color:#e2e8f0; font-family:-apple-system,BlinkMacSystemFont,system-ui,sans-serif; font-size:13px; -webkit-user-select:none; user-select:none; }
#tabs { display:flex; align-items:center; height:40px; padding:0 4px; gap:2px; }
.tab { display:flex; align-items:center; gap:4px; padding:4px 12px; border-radius:6px 6px 0 0; cursor:pointer; white-space:nowrap; max-width:180px; border:1px solid transparent; border-bottom:none; background:transparent; color:#94a3b8; transition:background .15s,color .15s; }
.tab:hover { background:#1e293b; color:#e2e8f0; }
.tab.active { background:#1e293b; color:#e2e8f0; border-color:#334155; }
.tab-label { overflow:hidden; text-overflow:ellipsis; }
.tab-close { display:flex; align-items:center; justify-content:center; width:16px; height:16px; border-radius:4px; font-size:12px; line-height:1; opacity:0.5; cursor:pointer; }
.tab-close:hover { opacity:1; background:#334155; }
</style>
</head>
<body>
<div id="tabs"></div>
<script>
window.updateTabs = function(tabs, activeIndex) {
  var container = document.getElementById('tabs');
  container.innerHTML = '';
  tabs.forEach(function(tab, i) {
    var el = document.createElement('div');
    el.className = 'tab' + (i === activeIndex ? ' active' : '');
    var label = document.createElement('span');
    label.className = 'tab-label';
    label.textContent = tab.label || tab.id;
    el.appendChild(label);
    if (tabs.length > 1) {
      var close = document.createElement('span');
      close.className = 'tab-close';
      close.textContent = '\u00d7';
      close.addEventListener('click', function(e) {
        e.stopPropagation();
        window.ipc.postMessage(JSON.stringify({ providerId:'vibefi-tabbar', method:'closeTab', params:[i] }));
      });
      el.appendChild(close);
    }
    el.addEventListener('click', function() {
      window.ipc.postMessage(JSON.stringify({ providerId:'vibefi-tabbar', method:'switchTab', params:[i] }));
    });
    container.appendChild(el);
  });
};
</script>
</body>
</html>
